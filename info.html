<!DOCTYPE html>
<html>
<head>
	<title>PTT NEXT</title>
	<meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="">
<link href="https://fonts.googleapis.com/css?family=Kanit:200,300,400,500,600,700" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="assets/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="assets/css/main.css">
</head>
<body>
	<main class="info">
		<section class="main" id="header">
			<div class="logo">
				<a href="index.html"><img src="assets/images/logo.svg"></a>
			</div>
			<div class="nav">
				<ul>
					<li class="active">
						<a href="index.html">HOME</a>
					</li>
					<li>
						<a href="innovation.html">INNOVATION PROJECT</a>
					</li>
					<li>
						<a href="success.html">SUCCESS PROJECT</a>
					</li>
					<li>
						<a href="#">SPIRIT</a>
					</li>
				</ul>
			</div>
			<div class="nav-right">
				<ul>
					<li>
						<a href="#">
							<img src="assets/images/icon-noti.png">
						</a>
					</li>
					<li>
						<a href="#">
							<img class="rounded" src="assets/images/icon-box.png">
						</a>
					</li>
					<li>
						<a href="info.html">
							<img src="assets/images/icon-i.png">
						</a>
					</li>
					<li>
						<a href="login.html">
							<img src="assets/images/icon-logout.png">
						</a>
					</li>
				</ul>
			</div>
		</section>
		<section>
			<div class="wrapper">
				<div class="info-top">
					<div rel="info1" class="img01 active"></div>
					<div rel="info2" class="img02 next"></div>
					<div rel="info3" class="img03" style="top: -100px"></div>
					<div rel="info4" class="img04 prev"></div>
				</div>
				<div class="info-bottom">
					<div class="box active" rel="info1">
						<h4>INCREMENTAL?</h4>
						<p>
							โกลด์ธุหร่ำกระดี๊กระด๊าโอเปอเรเตอร์โปสเตอร์ โมเดลซิตี้จ๊อกกี้สวีทสันทนาการ โฮสเตสผ้าห่มลามะ เมี่ยงคำปาร์ตี้ รีทัชแม็กกาซีนวีนทับซ้อนแซนด์วิช แคนยอน เซอร์วิสสังโฆภคันทลาพาธ นิรันดร์หล่อฮังก้วยใช้งานเดโมโฮลวีต ไวอะกร้ารูบิกกฤษณ์เอ็นทรานซ์ แอพพริคอทนรีแพทย์ฮาลาลโมหจริต ตุ๊กอินเตอร์มยุราภิรมย์ไพลินไฮเวย์ เพียววีนครูเสดบลูเบอร์รี่ด็อกเตอร์ แหวว ร็อค ต้าอ่วย บอกซ์
						</p>
						<p>
							บ๋อยไทยแลนด์ แชมป์น้องใหม่ ยิวรูบิคเฟิร์มซาดิสต์ แฟล็ตบูติกแหม็บพล็อตตังค์ โดมิโน ป๋อหลอแช่แข็งฮ่องเต้รีพอร์ทสต็อค แพนดาเรตก๋ากั่นโทรโข่ง งี้แฟร์ ภคันทลาพาธปาสกาลเยอร์บีร่าอาข่า บร็อกโคลีสไตล์ท็อปบูตไตรมาสแทกติค นอมินีเทเลกราฟโบกี้ศิลปากร กลาสงี้วีเจไฟแนนซ์ตาปรือ แอดมิสชันฟอร์ม เมี่ยงคำฮิตแป๋ววิดีโอ โคโยตี ดอกเตอร์ล็อตอาข่าวิภัชภาคชนะเลิศ
						</p>
					</div>
					<div class="box" rel="info2">
						<h4>INCREMENTAL?</h4>
						<p>
							โกลด์ธุหร่ำกระดี๊กระด๊าโอเปอเรเตอร์โปสเตอร์ โมเดลซิตี้จ๊อกกี้สวีทสันทนาการ โฮสเตสผ้าห่มลามะ เมี่ยงคำปาร์ตี้ รีทัชแม็กกาซีนวีนทับซ้อนแซนด์วิช แคนยอน เซอร์วิสสังโฆภคันทลาพาธ นิรันดร์หล่อฮังก้วยใช้งานเดโมโฮลวีต ไวอะกร้ารูบิกกฤษณ์เอ็นทรานซ์ แอพพริคอทนรีแพทย์ฮาลาลโมหจริต ตุ๊กอินเตอร์มยุราภิรมย์ไพลินไฮเวย์ เพียววีนครูเสดบลูเบอร์รี่ด็อกเตอร์ แหวว ร็อค ต้าอ่วย บอกซ์
						</p>
						<p>
							บ๋อยไทยแลนด์ แชมป์น้องใหม่ ยิวรูบิคเฟิร์มซาดิสต์ แฟล็ตบูติกแหม็บพล็อตตังค์ โดมิโน ป๋อหลอแช่แข็งฮ่องเต้รีพอร์ทสต็อค แพนดาเรตก๋ากั่นโทรโข่ง งี้แฟร์ ภคันทลาพาธปาสกาลเยอร์บีร่าอาข่า บร็อกโคลีสไตล์ท็อปบูตไตรมาสแทกติค นอมินีเทเลกราฟโบกี้ศิลปากร กลาสงี้วีเจไฟแนนซ์ตาปรือ แอดมิสชันฟอร์ม เมี่ยงคำฮิตแป๋ววิดีโอ โคโยตี ดอกเตอร์ล็อตอาข่าวิภัชภาคชนะเลิศ
						</p>
					</div>
					<div class="box" rel="info3">
						<h4>INCREMENTAL?</h4>
						<p>
							โกลด์ธุหร่ำกระดี๊กระด๊าโอเปอเรเตอร์โปสเตอร์ โมเดลซิตี้จ๊อกกี้สวีทสันทนาการ โฮสเตสผ้าห่มลามะ เมี่ยงคำปาร์ตี้ รีทัชแม็กกาซีนวีนทับซ้อนแซนด์วิช แคนยอน เซอร์วิสสังโฆภคันทลาพาธ นิรันดร์หล่อฮังก้วยใช้งานเดโมโฮลวีต ไวอะกร้ารูบิกกฤษณ์เอ็นทรานซ์ แอพพริคอทนรีแพทย์ฮาลาลโมหจริต ตุ๊กอินเตอร์มยุราภิรมย์ไพลินไฮเวย์ เพียววีนครูเสดบลูเบอร์รี่ด็อกเตอร์ แหวว ร็อค ต้าอ่วย บอกซ์
						</p>
						<p>
							บ๋อยไทยแลนด์ แชมป์น้องใหม่ ยิวรูบิคเฟิร์มซาดิสต์ แฟล็ตบูติกแหม็บพล็อตตังค์ โดมิโน ป๋อหลอแช่แข็งฮ่องเต้รีพอร์ทสต็อค แพนดาเรตก๋ากั่นโทรโข่ง งี้แฟร์ ภคันทลาพาธปาสกาลเยอร์บีร่าอาข่า บร็อกโคลีสไตล์ท็อปบูตไตรมาสแทกติค นอมินีเทเลกราฟโบกี้ศิลปากร กลาสงี้วีเจไฟแนนซ์ตาปรือ แอดมิสชันฟอร์ม เมี่ยงคำฮิตแป๋ววิดีโอ โคโยตี ดอกเตอร์ล็อตอาข่าวิภัชภาคชนะเลิศ
						</p>
					</div>
					<div class="box" rel="info4">
						<h4>INCREMENTAL?</h4>
						<p>
							โกลด์ธุหร่ำกระดี๊กระด๊าโอเปอเรเตอร์โปสเตอร์ โมเดลซิตี้จ๊อกกี้สวีทสันทนาการ โฮสเตสผ้าห่มลามะ เมี่ยงคำปาร์ตี้ รีทัชแม็กกาซีนวีนทับซ้อนแซนด์วิช แคนยอน เซอร์วิสสังโฆภคันทลาพาธ นิรันดร์หล่อฮังก้วยใช้งานเดโมโฮลวีต ไวอะกร้ารูบิกกฤษณ์เอ็นทรานซ์ แอพพริคอทนรีแพทย์ฮาลาลโมหจริต ตุ๊กอินเตอร์มยุราภิรมย์ไพลินไฮเวย์ เพียววีนครูเสดบลูเบอร์รี่ด็อกเตอร์ แหวว ร็อค ต้าอ่วย บอกซ์
						</p>
						<p>
							บ๋อยไทยแลนด์ แชมป์น้องใหม่ ยิวรูบิคเฟิร์มซาดิสต์ แฟล็ตบูติกแหม็บพล็อตตังค์ โดมิโน ป๋อหลอแช่แข็งฮ่องเต้รีพอร์ทสต็อค แพนดาเรตก๋ากั่นโทรโข่ง งี้แฟร์ ภคันทลาพาธปาสกาลเยอร์บีร่าอาข่า บร็อกโคลีสไตล์ท็อปบูตไตรมาสแทกติค นอมินีเทเลกราฟโบกี้ศิลปากร กลาสงี้วีเจไฟแนนซ์ตาปรือ แอดมิสชันฟอร์ม เมี่ยงคำฮิตแป๋ววิดีโอ โคโยตี ดอกเตอร์ล็อตอาข่าวิภัชภาคชนะเลิศ
						</p>
					</div>
				</div>
				<div class="dots">
					<ul></ul>
				</div>
			</div>
			
		</section>

	</main>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
	
	var pttSlide = {
		items: [],
		current: 0,
		navElement: null,
		slideElements: {
			box1: null,
			box2: null,
			box3: null,
			box4: null
		},
		activeItems: {
			box1: null,
			box2: null,
			box3: null,
			box4: null
		},
	}

	$(document).ready(function () {
		init();
		drawSlide();
	});

	// function
	function init() {
		pttSlide.items = ["assets/images/info-mascot1.png", "assets/images/info-mascot2.png", "assets/images/info-mascot3.png", "assets/images/logo.png"]; // "abcd".split("");
		pttSlide.current = 0;
		pttSlide.navElement = $(".dots ul");

		pttSlide.navElement.append($(getNavHTML(pttSlide.items)));

		pttSlide.slideElements.box1 = $(".img01");
		pttSlide.slideElements.box2 = $(".img02");
		pttSlide.slideElements.box3 = $(".img03");
		pttSlide.slideElements.box4 = $(".img04");

		var l = pttSlide.items.length;

		if (l < 3) {
			for (let index = 0; index < 3 - l; index++) {
				pttSlide.items.push(pttSlide.items[pttSlide.items.length - 1]);
			}
		}

		pttSlide.activeItems.box1 = 0; // a >> items[box1]
		pttSlide.activeItems.box2 = 1; // b
		pttSlide.activeItems.box3 = 2; // c
		pttSlide.activeItems.box4 = pttSlide.items.length - 1; // f


		pttSlide.navElement.find('li').click(function () {
			var pClick = $(this).index();			
			var diff = pClick - pttSlide.current;

			console.log('diff', diff);
			if (diff < 0) {
				recursive(Math.abs(diff), movePrev);
			} else if (diff > 0) {
				recursive(diff, moveNext);
			}
			pttSlide.current = pClick;

			pttSlide.navElement.find('.active').removeClass('active');
			pttSlide.navElement.find('li').eq(pttSlide.current).addClass('active');
		})
		

	}

	function getNavHTML(items) {
		var html = "";
		
		items.forEach(function (i, index) {
			html += "<li";
			
			if (index === 0) {
				html += " class='active'";
			}

			html += "><span></span></li>";
		});

		return html;
	}

	function drawSlide() {
		pttSlide.slideElements.box1.css({ "backgroundImage": "url(" + pttSlide.items[pttSlide.activeItems.box1] + ")" });
		pttSlide.slideElements.box2.css({ "backgroundImage": "url(" + pttSlide.items[pttSlide.activeItems.box2] + ")" });
		pttSlide.slideElements.box3.css({ "backgroundImage": "url(" + pttSlide.items[pttSlide.activeItems.box3] + ")" });
		pttSlide.slideElements.box4.css({ "backgroundImage": "url(" + pttSlide.items[pttSlide.activeItems.box4] + ")" });
	}

	function moveNext() {
		pttSlide.activeItems.box1 = getNextIndex(pttSlide.activeItems.box1); // a >> items[box1]
		pttSlide.activeItems.box2 = getNextIndex(pttSlide.activeItems.box2); // b
		pttSlide.activeItems.box3 = getNextIndex(pttSlide.activeItems.box3); // c
		pttSlide.activeItems.box4 = getNextIndex(pttSlide.activeItems.box4); // f
		drawSlide();
	}

	function movePrev() {
		pttSlide.activeItems.box1 = getPrevIndex(pttSlide.activeItems.box1); // a >> items[box1]
		pttSlide.activeItems.box2 = getPrevIndex(pttSlide.activeItems.box2); // b
		pttSlide.activeItems.box3 = getPrevIndex(pttSlide.activeItems.box3); // c
		pttSlide.activeItems.box4 = getPrevIndex(pttSlide.activeItems.box4); // f
		drawSlide();
	}

	function getNextIndex(index) {
		console.log('indexNext' + index);
		index += 1;
		return  index < pttSlide.items.length ? index : 0;
	}

	function getPrevIndex(index) {
		console.log('indexPrev'+ index);
		index -= 1;
		return  index >= 0 ? index : pttSlide.items.length - 1;
	}

	function recursive(t, fn) {
		console.log(t);
		fn();
		t -= 1;

		if (t > 0) {
			recursive(t, fn);
		}
	}
</script>
</body>
</html>